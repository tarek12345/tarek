
<div class="header pb-8 pt-5 pt-md-8">
  <div class="container-fluid">
    <div class="header-body">
      <!-- Card stats -->
     
        <!-- <a >
          <h2 (click)="onReturn()"  class="text-black mb-2 title-renseignement document-title Retour-prece">
            <i   class="fa fa-chevron-left" style="font-size: 19px;"></i>  Retour 
          </h2>
      </a> -->
     
    </div>
 
  </div>

</div>

<div [ngClass]="{'show': IsHiddens==false, 'hide':IsHiddens==true }">
 
  <div class="container-fluid mt--7 " id="TB">
    <div class="row">
      <div class=""  [ngClass]="{'col-xl-9 mb-xl-0  bloc1 ': isMobile === false , 'col-xl-11  col-sm-11 p-0 bloc1': isMobile === true}">
       
            <div class="row bloc-dashboard">

                <div class="col-xl-12 mb-12 mb-xl-12 mb-5 mb-xl-0 documents ">
   
          
                    <div class="card  shadow doc">
                        <div class="card-header bg-transparent title-Dachboard ">
                            <div class=" ml-2 mt-4 row align-items-center">
                                <div class="col-lg-9" >
                                        <a >
                                            <h2 class="text-black mb-2 title-renseignement document-title">
                                              <i (click)="onReturn()"  class="fa fa-chevron-left" style="font-size: 19px;"></i>  {{selected_fiche.locationName}}
                                            </h2>
                                        </a>
                                      <!-- <span *ngIf="photo_count != null" class="contents"> Vous avez <span style="color: #C94040">{{photo_count}} photo </span> ajoutée par un internaute</span>
                                      <span *ngIf="photo_count == null"  class="contents">Vous avez 0 photo  ajoutée par un internaute</span> -->
                                      <span  class="contents"> Vous avez 
                                        <span  *ngIf="CountCustomer <= 1" style="color: #C94040">{{CountCustomer}} photo </span>
                                        <span *ngIf="CountCustomer >= 2" style="color: #C94040">{{CountCustomer}} photos </span>
                                       ajoutées par un internaute</span>
                                </div>
                                <div class="col-lg-3" >
                                <ul class="navbar-nav align-items-center d-none d-md-flex">
                                  <li  class="nav-item ">
                                    <a class="nav-link pr-0" role="button" (click)="open(content9,selected_fiche)">
                                      <div class="media align-items-center pl-5">
                                        <div class="media-body ml-2 d-none d-lg-block">
                                          <span class="mb-0 text-right d-lg-block add-photo">Ajouter des  <br />
                                            photos dans la galerie</span>
                                        </div>
                                        <span class="avatar avatar-sm rounded-circle">
                                          <i class="fa fa-plus"></i>
                                        </span>
                                      </div>
                                    </a>
                                  </li>
                                </ul>
                              </div>
                                <div class="col-lg-12 pb-0 mt-3 ml-2">

                                    <div class="row">
                                      <div class="col-lg-3  col-md-12  col-sm-12 pb-0 ml-0">
                                        <ul ngbNav #nav="ngbNav"
                                        [(activeId)]="active"
                                         class="nav-pills" orientation="vertical">
                                          <li   *ngFor="let item of ListGalerie"
                                           ngbNavItem="{{ item.Name }}"
                                           (click)="onChangeGalerieType(item.value)">
                                            <a ngbNavLink>{{ item.Name }}</a>
                                            <ng-template ngbNavContent>
                                                <div *ngFor="let item of tab_photos"    class="element-galerie">
                                                <div class="infooo" *ngIf="item.category != 'CUSTOMER'"     >   
                                                <!-- <img  class ="img-fonst " *ngIf="item.format == 'PHOTO'" src="{{item.file}}" alt="{{item.CategoryFR}}"/> -->
                                                <div  *ngIf="item.format == 'PHOTO'"  style=" width: 100% ;display: block ;    min-height: 100%;   border-radius: 10px;"
                                                [ngStyle]="{'background': 'url(' + item.file + ') no-repeat 0 0 / cover'}"></div>
                                                <div *ngIf="item.format !='PHOTO'"  style=" width: 100% ;display: block ;    min-height: 100%;   border-radius: 10px;"
                                                [ngStyle]="{'background': 'url(' + video + ') no-repeat 0 0 / cover'}"></div>                                                <div  class="element-galerie-1">
                                                  <a class="mr-2 mt-1 setup">
                                                      <i class="fas fa-cog"></i>
                                                      <div class="tooltiptext shadow ">
                                                        <div class="text-left">
                                                          <ul>

                                                            <li> <span (click)="openCato(content11,item)"  class="actionpost">Catégoriser
                                                              </span>
                                                            </li>
                                                            <li> <span (click)="openAvertir(content10,item)" class="actionpost">Avertir
                                                              </span>
                                                            </li>

                                                            <li> <span (click)="opens(content12,item);" class="actionpost" style="color: #C94040;"
                                                               >Supprimer </span>
                                                            </li>

                                                          </ul>
                                                        </div>
                                                      </div>
                                                    </a>
                                                 
                                                    <a  *ngIf="item.dateAvertir!=null" class="mr-2 mt-1 setup drap">
                                                      <span  class="drapeux"><i class="fas fa-flag"></i></span>
                                                      <div class="tooltiptext shadow ">
                                                        <div class="text-left Averti">
                                                          <ul>
                                    
                                                            <li > <i class="fas fa-flag"></i>  <span   class="actionpost">Averti le <b class="date-avertir">{{item.dateAvertir |date:'mm/dd/y'}}</b>
                                                              </span>
                                                            </li>
                                    
                                                          </ul>
                                                        </div>
                                                      </div>
                                                    </a>
                                                    
                                                    <div *ngIf="(item.category == 'PROFILE' ) || (item.category == 'LOGO' ) || (item.category == 'COVER')" class="ml-2 mt-1 setup-right sh">
                                                        <span  (click)="open(content9,item)" >{{item.categoryFr}} </span><i class="fa fa-pencil-alt"></i>

                                                    </div>

                                                    <div class="setup-bottom pl-2">
                                                    <span  class="text-black mb-0">
                                                        <img  src="./assets/photos/post-picto-vue-blanc.svg" class="img-post">
                                                        <span  class="value-post"> {{item.views}}  </span>
                                                    </span>
                                                    <span  class="text-black left mr-2">
                                                        <span  class="value-post">{{item.date}}</span>
                                                    </span>
                                                </div>
                                                </div>
                                                <div (click)="openCato(content11,item)" class="ancre-image"> </div>
                                              </div>
                                                <div >
                                                  <div  class="infooo" *ngIf="item.category == 'CUSTOMER' " >
                                                  <!-- <img    class ="img-fonst red " src="{{item.file}}" alt="{{item.CategoryFR}}"/>  -->
                                                  <div  *ngIf="item.format!='VIDEO'"  style=" border: 2px solid #C94040;width: 100% ;display: block ;    min-height: 100%;   border-radius: 10px;"
                                                  [ngStyle]="{'background': 'url(' + item.file + ') no-repeat 0 0 / cover'}"></div>
                                                 <!-- <img   *ngIf="item.format!='VIDEO'" class ="img-fonst red"  src="{{item.file}}" alt="{{item.CategoryFR}}"/> -->
                                                 <div *ngIf="item.format !='PHOTO'"  style=" width: 100% ;display: block ;    min-height: 100%;   border-radius: 10px;"
                                                 [ngStyle]="{'background': 'url(' + video + ') no-repeat 0 0 / cover'}"></div>                                                  <a  class="mr-2 mt- 1 setup">
                                                    <i  (click)="openCato(content22,item)" class="fa fa-exclamation-circle" aria-hidden="true"></i>
                                                    </a>

                                                    <a  *ngIf="item.signials > 0" class="mr-2 mt-1 setup drap">
                                                      <span  class="drapeux"><i class="fas fa-flag"></i></span>
                                                      <div class="tooltiptext shadow ">
                                                        <div class="text-left Averti">
                                                          <ul >
                                    
                                                            <li > <i class="fas fa-flag"></i>  <span   class="actionpost" style="color:#C94040">Signaler le 
                                                              <b style="color:#C94040" class="date-avertir">{{item.signial_date |date:'mm/dd/y'}}</b>
                                                              </span>
                                                            </li>
                                    
                                                          </ul>
                                                        </div>
                                                      </div>
                                                    </a>
                                                  <div   (click)="openCato(content13,item)" class="element-galerie-1">



                                                      <div *ngIf="(item.category == 'PROFILE' ) || (item.category == 'LOGO' ) || (item.category == 'COVER')" class="ml-2 mt-1 setup-right sh">
                                                          <span  (click)="open(content9,item)" >{{item.categoryFr}} </span><i class="fa fa-pencil-alt"></i>

                                                      </div>

                                                      <div class="setup-bottom pl-2">
                                                      <span  class="text-black mb-0">
                                                          <img  src="./assets/photos/post-picto-vue-blanc.svg" class="img-post">
                                                          <span  class="value-post"> {{item.views}}  </span>
                                                      </span>
                                                      <span  class="text-black left mr-2">
                                                          <span  class="value-post">{{item.date}}</span>
                                                      </span>
                                                  </div>
                                                  </div>
                                                  <div (click)="openCato(content22,item)" class="ancre-image"> </div>
                                                  </div>
                                                  <div>
                                                    
                                                  </div>
                                                </div>

                                              </div>
                                              <!-- <div   *ngIf="selected_galerie_type != 'CUSTOMER'" class="element-galerie s">
                                            
                                                <a class="img-postsss" (click)="open(content9,selected_fiche)">
                                                <img  src="./assets/photos/ajout-p.svg" >
                                                </a>
                                              </div> -->
                                              <a class="img-postsss" (click)="open(content9,selected_fiche)">
                                              <div  class="element-galerie s" *ngIf="selected_galerie_type != 'CUSTOMER'" style="    cursor: pointer; vertical-align: bottom ; display: inline-block ;    min-height: 100%;   border-radius: 10px;"
                                              [ngStyle]="{'background': 'url(' + backgroundUrl + ') no-repeat 0 0 / cover'}">
                                             </div>
                                              
                                                </a>
                                            
                                            </ng-template>
                                         
                                          </li>
                                           
                                        </ul>


                                      </div>
                                      <ng-template #content20 let-modal>
                                        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                                          <span aria-hidden="true">&times;</span>
                                        </button>
                                        <!-- <div class="iframe_form" [innerHTML]="takedownUrl"></div> -->
                                        <iframe   class="e2e-iframe-trusted-src w-100" width="100%" height="100%" [src]="takedownUrl" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                                      </ng-template>
                                      <div class="col-lg-9 col-md-12 col-sm-12  p-0 ml-0">
                                      <div [ngbNavOutlet]="nav" class="ml-0"></div>
                                      </div>
                                      <div class="col-lg-12 mt-3 mb-3 ">
                                       
                                        <span class="pagination-page" *ngIf="AllCount==0"> 0 photos sur {{AllCount}} </span>  
                                        <span class="pagination-page" *ngIf="AllCount <= Count && AllCount !=0">{{AllCount}} photos sur {{AllCount}} </span>  
                                        <span class="pagination-page" *ngIf="AllCount > Count"> {{Count}} photos sur {{AllCount}} </span> 
                                        <span (click)="ShowMore()" *ngIf="AllCount > Count" class=" pagination-avis mx-auto">+ Charger plus de photos</span>
                                   </div>
<!----------------------------------------popup Avertir------------------------------------------------------------------>
                                    <div class="media hidesssss" id="Avertir" >
                                      <div class="media-body">
                                        <div id="notifs-client">
                                          <ng-template #content10 let-modal>
                                            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                                              <span aria-hidden="true">&times;</span>
                                            </button>
                                            <div class="modal-body ContenuPhoto galerie" >
                                              <div class="reviews-members ">
                                                <span
                                                class=" pb-3 title-add-photos Avertir" id="modal-basic-title " >Avertir le propriétaire de l'image
                                              </span >
                                          </div>
                                          <div class="row">
                                            <div class="col-xl-3 col-md-3 ">
                                              <img class src='{{tab_photoss}}' alt='{{tab_locationName}}' style="
                                              width: 151px;
                                              height: 151px;
                                              border-radius: 20px;
                                          "/>
                                              </div>
                                          <div class="col-xl-9  col-md-9 ">
                                           <div class="reponse-body">
                                            <div class="reponse-fiche">
                                              <div class="form-group pl-4 pr-4 was-validated">
                                                <span class="nom-fiche">
                                                  Contacter le propriétaitre</span
                                                ><span class="symbol required"></span>
                                                <textarea
                                                  placeholder=" Envoyer votre message"
                                                  class="form-control reponse_avis"
                                                  rows="5"
                                                  id="comment" required
                                                  [(ngModel)]="AvertirMessage"
                                                ></textarea>
                                                <div class="valid-feedback"></div>
                                                <div class="invalid-feedback"></div>
                                              </div>
                                            </div>
                                            <div class="text-center buttons">
                                              <button   class="btn btn-reponse" type="button" (click)="AviertirGategorieC(avertirItem.id, avertirItem.fiche_id) ">
                                                Envoyer
                                             </button>
                                               <button
                                                 type="button"
                                                 class="btn btn-annulations"
                                                 (click)="modal.close('Save click')"
                                               >
                                                 Annuler
                                               </button>
                                             </div>
                                          </div>
                                        </div>

                                       </div>
                                          </div>


                                          <div class="modal-footer s" >

                                            <div class="footer-modal-1"></div>
                                          </div>
                                          </ng-template>
                                          </div>
                                          </div>
                                    </div>
<!---------------------------------------- Fin popup Avertir------------------------------------------------------------------>
<!----------------------------------------popup Dernier Avertir------------------------------------------------------------------>
<div class="media hidesssss" id="Avertir" >
  <div class="media-body">
    <div id="notifs-client">
      <ng-template #content7 let-modal>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="modal-body ContenuPhoto galerie" >
          <div class="reviews-members ">
            <span
            class=" pb-3 title-add-photos Avertir" id="modal-basic-title " >Avertir le propriétaire de l'image
          </span >
      </div>
      <div class="row">
        <div class="col-xl-3 col-md-3 ">
          <img class src='{{tab_photoss}}' alt='{{tab_locationName}}' style="
          width: 151px;
          height: 151px;
          border-radius: 20px;
      "/>
          </div>
      <div class="col-xl-9  col-md-9 ">
       <div class="reponse-body">
        <div class="reponse-fiche">
          <div class="form-group pl-4 pr-4 was-validated">
            <span class="nom-fiche">
              Contacter le propriétaitre</span
            ><span class="symbol required"></span>
            <textarea
              placeholder=" Envoyer votre message"
              class="form-control reponse_avis"
              rows="5"
              id="comment" required
              [(ngModel)]="AvertirMessage"
            ></textarea>
            <div class="valid-feedback"></div>
            <div class="invalid-feedback"></div>
          </div>
        </div>
        <div class="text-center buttons">
          <button   class="btn btn-reponse" type="button" (click)="AviertirGategorieC(avertirItem.id, avertirItem.fiche_id) ">
            Envoyer
         </button>
           <button
             type="button"
             class="btn btn-annulations"
             (click)="modal.close('Save click')"
           >
             Annuler
           </button>
         </div>
      </div>
    </div>

   </div>
      </div>


      <div class="modal-footer s" >

        <div class="footer-modal-1"></div>
      </div>
      </ng-template>
      </div>
      </div>
</div>
<!---------------------------------------- Fin popup  Dernier Avertir------------------------------------------------------------------>
<!----------------------------------------popup Catégoriser------------------------------------------------------------------>
                  <div  class="media">
                    <div class="media-body">
                      <div id="notifs-client">
                        <ng-template #content11 let-modal cato>
                          <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                            <span aria-hidden="true">&times;</span>
                          </button>

                          <div class="modal-body Categoriser">
                            <div class="row">
                              <div class="col-xl-8 col-md-12 col-sm-12 font-images "style="
                              border-radius: 20px 0 0 20px;
                          ">
                                <img class src='{{tab_photoss}}'  class="img-font-cato" alt='{{tab_locationName}}' />
    
                                <div class="city-img"><span>{{tab_locationName}}</span></div>
                              </div>
                              <div class="col-xl-4 col-md-12 col-sm-12   Categoriser-left">
                            <div class="reviews-members pb-2 Categoriser">
                              <span
                              class=" pb-3 title-add-photos" id="modal-basic-title" >Informations
                            </span >
                            <span class="text-black mb-0">
                              <img  src="./assets/Dashboard/post-picto-vue.svg" class="img-post">
                              <span class="value-post"> {{tab_views}} consultations </span>
                            </span>
                            <span class="text-black mb-0">

                              <img  src="./assets/photos/icon_calandar-grise.svg" class="img-post">
                              <span class="value-post"> Il y a {{tab_date}}</span>
                            </span>

                            <span class="text-black ml-1 mb-0">
                              <img  src="./assets/photos/insert-picture-icon-grise.png" class="img-post s">

                              <span class="value-post"> {{tab_width}} x {{tab_height}} pixels</span>
                            </span>
                            <div class="text-black mb-0 mt-4">
                              <!-- <img *ngIf="tab_lastName == null &&  tab_firstName == null && avertirItem.category != 'CUSTOMER'" src="./assets/photos/insert-picture-icon.png" class=" prop"> -->
                              <img *ngIf="tab_lastName != null &&  tab_firstName != null && avertirItem.category != 'CUSTOMER' && avertirItem.photo == null" src="./assets/photos/insert-picture-icon.png" class=" prop">
                              <img *ngIf="tab_lastName != null &&   tab_firstName != null && avertirItem.category != 'CUSTOMER'" src="{{avertirItem.photo}}" class=" prop">
                              <img  *ngIf="avertirItem.category == 'CUSTOMER' "src="{{avertirItem.profilePhotoUrl}}" class=" prop">
                              <span  class="value-post">
                                {{avertirItem.profileName}}
                                <!-- <span  *ngIf="tab_lastName == null &&   tab_firstName == null && avertirItem.category != 'CUSTOMER'" class="light">propriétaire</span> -->
                                <span  *ngIf="tab_lastName != null &&   tab_firstName != null && avertirItem.category != 'CUSTOMER' && avertirItem.photo == null" class="light">propriétaire</span>
                                <span  *ngIf="tab_lastName!= null &&   tab_firstName != null && avertirItem.category != 'CUSTOMER' " class="light">{{avertirItem.lastName}} {{avertirItem.firstName}}</span>
                                <span  *ngIf=" avertirItem.category == 'CUSTOMER' " class="light">{{avertirItem.profileName}}</span>
                              </span>
                          </div>
                        </div>
                        <div class="reviews-members pb-2   Categoriser ">
                          <span
                          class=" pb-3 title-add-photos" id="modal-basic-title" >Catégories
                        </span >
                        <div class="categor-galerie selected">
                          <span class="categor-galerie-1" > <i class="fa fa-plus" aria-hidden="true"></i> {{avertirItem.categoryFr }}</span>
                          </div>
                       <div class="categor-galerie"  *ngFor="let cat of ListCategorieGal">
                       <span class="categor-galerie-1" (click)=AddCategory(tab_fiche_id,tab_photoss,cat)>  <i class="fa fa-plus" aria-hidden="true"></i> {{cat.label}}</span>
                       </div>
                       <div class="modal-footer cat pl-1 pr-1">
                        <div class="text-center buttons-catorisez">
                          <button  type="button" (click)="DeleteGategorieC(tab_photo_id)" class="btn btn-supprimer"> Supprimer la photo </button>
                          <button  (click)="openAvertir(content10,avertirItem)" type="button" class="btn btn-avertir"> Avertir le propriétaire </button>
                        </div>

                      </div>
                    </div>
                      </div>
                      </div>
                    </div>
                        </ng-template>
                        </div>
                        </div>
                  </div>

 <!---------------------------------------- Fin popup Catégoriser---------------------------------------------->
<!----------------------------------------popup Catégoriser border- rouge------------------------------------------------------------------>

                  <div  class="media">
                    <div class="media-body">
                      <div id="notifs-client">
                        <ng-template #content13 let-modal cato>
                          <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                            <span aria-hidden="true">&times;</span>
                          </button>

                          <div class="modal-body Categoriser">
                            <div class="row">
                              <div class="col-xl-8 col-md-12 col-sm-12 font-images " style="
                              border-radius: 20px 0 0 20px;
                          ">
                                <img class src='{{tab_photoss}}'  class="img-font-cato" alt='{{tab_locationName}}' />
                                <div class="city-img rouge"><span>{{tab_locationName}}</span></div>
                              </div>
                              <div class="col-xl-4  col-md-12  col-sm-12  Categoriser-left">
                            <div class="reviews-members pb-2 Categoriser">
                              <span
                              class=" pb-3 title-add-photos" id="modal-basic-title" >Informations
                            </span >
                            <span class="text-black mb-0">
                              <img  src="./assets/Dashboard/post-picto-vue.svg" class="img-post">
                              <span class="value-post"> {{tab_views}} consultations </span>
                            </span>
                            <span class="text-black mb-0">

                              <img  src="./assets/photos/icon_calandar-grise.svg" class="img-post">
                              <span class="value-post"> Il y a {{tab_date}}</span>
                            </span>

                            <span class="text-black ml-1 mb-0">
                              <img  src="./assets/photos/insert-picture-icon-grise.png" class="img-post s">

                              <span class="value-post"> {{tab_width}} x {{tab_height}} pixels</span>
                            </span>
                            
                            <div class="text-black mb-0 mt-4">
                              <!-- <img *ngIf="tab_lastName == null &&  tab_firstName == null && informationItem.category != 'CUSTOMER'" src="./assets/photos/insert-picture-icon.png" class=" prop"> -->
                              <img *ngIf="tab_lastName != null &&  tab_firstName != null && informationItem.category != 'CUSTOMER' && informationItem.photo == null" src="./assets/photos/insert-picture-icon.png" class=" prop">
                              <img *ngIf="tab_lastName != null &&   tab_firstName != null && informationItem.category != 'CUSTOMER'" src="{{informationItem.photo}}" class=" prop">
                              <img  *ngIf="informationItem.category == 'CUSTOMER' "src="{{informationItem.profilePhotoUrl}}" class=" prop">
                              <span  class="value-post">
                                {{informationItem.profileName}}
                                <!-- <span  *ngIf="tab_lastName == null &&   tab_firstName == null && informationItem.category != 'CUSTOMER'" class="light">propriétaire</span> -->
                                <span  *ngIf="tab_lastName != null &&   tab_firstName != null && informationItem.category != 'CUSTOMER' && informationItem.photo == null" class="light">propriétaire</span>
                                <span  *ngIf="tab_lastName!= null &&   tab_firstName != null && informationItem.category != 'CUSTOMER' " class="light">{{informationItem.lastname}} {{informationItem.firstname}}</span>
                                <span  *ngIf=" informationItem.category == 'CUSTOMER' " class="light">{{informationItem.profileName}}</span>
                              </span>
                          </div>

                        </div>

                      </div>
                      </div>
                      
                    </div>
                        </ng-template>
                        </div>
                        </div>
                  </div>

<!----------------------------------------Fin popup Catégoriser border- rouge------------------------------------------------------------------>
<!----------------------------------------Fin popup Signler border- rouge gallerie------------------------------------------------------------------>

<div  class="media">
  <div class="media-body">
    <div id="notifs-client">
      <ng-template #content22 let-modal cato>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>

        <div class="modal-body Categoriser">
          <div class="row">
            <div class="col-xl-8">
              <img   *ngIf="tab_format!='VIDEO'" class="img-font-cato s" src="{{tab_photoss}}" alt="{{tab_locationName}}"/>
              <video     *ngIf="tab_format=='VIDEO'"   width="400" controls autoplay class="img-font-cato"  src="{{tab_photoss}}" alt="{{tab_locationName}}"></video>
              <!-- <img class src='{{tab_photoss}}'  class="img-font-cato" alt='{{tab_locationName}}' /> -->
              <div class="city-img "><span>{{tab_locationName}}</span></div>
            </div>
            <div class="col-xl-4  Categoriser-left">
          <div class="reviews-members pb-2 Categoriser">
            <span
            class=" pb-3 title-add-photos" id="modal-basic-title" >Informations
          </span >
          <span class="text-black mb-0">
            <img  src="./assets/Dashboard/post-picto-vue.svg" class="img-post">
            <span class="value-post"> {{tab_views}} consultations </span>
          </span>
          <span class="text-black mb-0">

            <img  src="./assets/photos/icon_calandar-grise.svg" class="img-post">
            <span class="value-post"> Il y a {{tab_date}}</span>
          </span>

          <span class="text-black ml-1 mb-0">
            <img  src="./assets/photos/insert-picture-icon-grise.png" class="img-post s">

            <span class="value-post"> {{tab_width}} x {{tab_height}} pixels</span>
          </span>
          <div class="text-black mb-0 mt-4">
            <img *ngIf="tab_lastName != null &&  tab_firstName != null && avertirItem.category != 'CUSTOMER' && avertirItem.photo == null" src="./assets/photos/insert-picture-icon.png" class=" prop">
            <img *ngIf="tab_lastName != null &&   tab_firstName != null && avertirItem.category != 'CUSTOMER'" src="{{avertirItem.photo}}" class=" prop">
            <img  *ngIf="avertirItem.category == 'CUSTOMER' "src="{{avertirItem.profilePhotoUrl}}" class=" prop">
            <span  class="value-post">
              {{avertirItem.profileName}}
              <span  *ngIf="tab_lastName != null &&   tab_firstName != null && avertirItem.category != 'CUSTOMER' && avertirItem.photo == null" class="light">propriétaire</span>
              <span  *ngIf="tab_lastName!= null &&   tab_firstName != null && avertirItem.category != 'CUSTOMER' " class="light">{{avertirItem.lastname}} {{avertirItem.firstname}}</span>
              <span  *ngIf=" avertirItem.category == 'CUSTOMER' " class="light">{{avertirItem.profileName}}</span>
            </span>
        </div>
      </div>
      <div class="reviews-members pb-2 pt-5   ">
        <div class="modal-footer cat pl-1 pr-1">
         <div class="text-center buttons-catorisez signaler der">
          <!--<button  type="button" (click)="SignalierGategorieC(tab_photo_id)" class="btn btn-supprimer signaler "> Signaler la photo </button>--> 
          <a  type="button" href="{{avertirItem.takedownUrl}}"  (click)="SignalierGategorieC(avertirItem.id)" target="_blank"  class="btn btn-supprimer signaler "> Signaler la photo </a>
         </div>
  
       </div>
     </div>
    </div>
    </div>
 
  </div>
      </ng-template>
      <ng-template #content46 let-modal>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
        <!-- <div class="iframe_form" [innerHTML]="takedownUrl"></div> -->
        <iframe   class="e2e-iframe-trusted-src w-100" width="100%" height="100%" [src]="takedownUrl" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
      </ng-template>
      </div>
      </div>
</div>

<!----------------------------------------Fin popup Signler border- rouge gallerie------------------------------------------------------------------>
 <!----------------------------------------popup Supprimer------------------------------------------------------------------>
 <div class="media" id="Avertir">
  <div class="media-body">
    <div id="notifs-client">
      <ng-template #content12 let-modal>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="modal-body ContenuPhoto galerie">
          <div class="reviews-members pb-5">
            <span
            class=" pb-3 title-add-photos Avertir" id="modal-basic-title " >Suppression d'image
          </span >
      </div>
      <div class="row">
        <div class="col-xl-5 col-md-5">
          <img class="supp-img" src='{{tab_photoss}}' alt='{{tab_locationName}}' />
          </div>
      <div class="col-xl-7  col-md-7 p-0">
       <div class="reponse-body">
        <span class="supprission-text">Vous êtes sur le point de supprimer l'image ci-dessous, êtes-vous sûr ?</span>
        <div class="text-center buttons">
          <button   class="btn btn-reponse" type="button" (click)="DeleteGategorieC(delete_photo_id)">
            Supprimer
         </button>
           <button
             type="button"
             class="btn btn-annulations"
             (click)="modal.close('Save click')"
           >
             Annuler
           </button>
         </div>
      </div>
    </div>

   </div>
      </div>


      <div class="modal-footer s" >

        <div class="footer-modal-1"></div>
      </div>
      </ng-template>
      </div>
      </div>
</div>
<!---------------------------------------- Fin popup Supprimer---------------------------------------------->










<!---------------------------------------- Debut couvetture ou logo ---------------------------------------------->
<div class="media" id="Avertir">
  <div class="media-body">
    <div id="notifs-client">
      <ng-template #content9 let-modal>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="modal-body ContenuPhoto couverture">
          <div class="reviews-members pb-3">
            <span
            class=" pb-3 title-add-photos couverture" id="modal-basic-title " >Importer une photo
          </span >
      </div>
      <form [formGroup]="AddPhotoForm" (ngSubmit)="onSubmit()">
        <div class="custom-dropzone" [multiple]="false"  ngx-dropzone  accept=".webp, .gif, .png, .jpg, .jpeg" (change)="onSelect($event)">

          <ngx-dropzone-label >
            <div class="row row pl-0 pr-0 ml-0 mr-0">
              <div class="col-xl-7">
                <img  class="icon-modal" src='./assets/photos/picto-img-blue.svg' alt="Photos wallpost" style="width: 11%;">
                <div class="text-justifier">
                <span class="change-picture">Importer votre photo <br>
                  <span class="change-picture-1">Photo
                    Gif, Jpeg, Png, Webp
                </span>
                </span>
            </div>
              </div>
              <div class="col-xl-5">
                <i class="fas fa-upload"></i>
              </div>
            </div>
          </ngx-dropzone-label >
          <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of files_dropped"
            formControlName="file" [file]="f" [multiple]="false" [removable]="true" (removed)="onRemove(f)">
          </ngx-dropzone-image-preview>
        </div>
        <span *ngIf="  files_dropped.length > 1" class="mesage"> {{message}}</span>
        <div>
          <ul>
            <li class="list-group-item" *ngFor="let item of checklist">
              <input type="checkbox" value="{{item.id}}" [attr.disabled]=" item.isDisabled ? true : null"
                [checked]="checked"  (change)="isAllSelected(item)" formControlName="Category"
                name="Category" />
              <span class="itemList">{{item.value}} </span>
            </li>
          </ul>

        </div>



        <span class="nom-fiche"> Type de photo</span>
        <ng-select [items]="TypePhotos" [(ngModel)]='setSelected' bindLabel="name"
          [placeholder]="placeholder"  formControlName="Type_photo">
        </ng-select>

        <div class="btncnx mt-3">

          <button type="submit" class="btn btn-pub" (click)= UploadPohto()>Publier</button>
          <button type="button" class="btn btn-annulation" (click)="FermerAdd()">Annuler</button>
        </div>
      </form>

      </div>


      <div class="modal-footer" >

        <div class="footer-modal-1"></div>
      </div>
      </ng-template>
      </div>
      </div>
</div>

<!---------------------------------------- Fin couvetture ou logo ---------------------------------------------->



                                  </div>
                                </div>

                            </div>
                        </div>

                    </div>

                </div>
            </div>

        </div>
        <div class="" [ngClass]="{'col-xl-1  col-md-1 ':    isMobile === true , 'col-xl-3  col-md-3': isMobile === false}">
          <div *ngIf="!isMobile">
            <app-sidbar-photos></app-sidbar-photos>
            <app-sidebar-general></app-sidebar-general>
          </div>
          <div *ngIf="isMobile" class="medium_screen text-center">
            <span class="avatar avatar-md rounded-circle"  
            (click)="openblock(contentblock)">
              <img  src="../assets/Dashboard/icon-franchises1.png"><sup class="sup-b"><i  class="fa fa-circle mod"></i></sup>
          </span>
          
          </div>
          <div id="contentblock">
            <ng-template #contentblock let-modal>
        
              <button type="button" class="close avatar" aria-label="Close" 
              (click)="fermerpro()">
             <i class="fa fa-times-thin fa-2x cross" aria-hidden="true"></i>
              </button>
              
              <div class="modal-body listprofil pb-0 mb-0">
                <app-sidbar-photos></app-sidbar-photos>
                <app-sidebar-general></app-sidebar-general>
              </div>
            </ng-template>
          </div>
        
          </div>
    </div>



</div>
  </div>
<div  [ngClass]="{'hide': IsHiddens==false, 'show':IsHiddens==true }" class="container-fluid  mt--7">
  <div class="row">

    <div  [ngClass]="{'col-xl-9 col-md-12 mb-5 mb-xl-0 chart ': isMobile === false , 'col-xl-11 col-md-11 mb-5 mb-xl-0 chart': isMobile === true}">
  
<div  >
      <div   class="card   hide shadow doc"  >
        <div class="card-header bg-transparent title-Dachboard">
          <div class="col-lg-12">
            <h2 class="text-black mb-0 title-renseignement document-title">Vues des photos </h2>
        </div>
        <div *ngIf="isMobile"></div>
        <!-- {{isMobile}}
        {{width}} -->
   
      <!-- <div *ngIf="isMobile=='MobileWidth'">I am a Mobile Device</div> -->
          <div class="row">

            <div class="col-xl-7  col-md-6  col-xs-12 pb-0 ml-0 serash">
              <span  class="nom-fiche"> Recherche</span>
              <ng-select
                [multiple]="true"
                [(ngModel)]="selectedUserIds"
                [addTag]="false"

                [openOnEnter]="false"
                [selectOnTab]="true"
                [clearable]="true"
                [clearOnEnter]="true"

                notFoundText ="Aucun photo trouvée"
                (keyup)="Review_autocompele($event.target.value)"
                (change)="insertTags(selectedUserIds); deleteSelection()"
       
              >
            
                <ng-option
                  *ngFor="let etiquet of Etiquettes"
                  [value]="etiquet" >
                  <label class="custom-control-label">{{ etiquet.name }}  </label>

                </ng-option>
          
              </ng-select>
              <div *ngFor="let tag of selectedUserIds; let i = index" class="mt-3" style="display: inline-block;">
        
                <span
                  class="badge badge-pill  avis-s  pt-2 pb-2 mr-2 ml-2 mb-3"
                  [ngStyle]="{ 'background-color': tag.color }"
                  [style.color]="'white'"
                >
                  {{ tag.name }}
                  <i class="fas fa-times" (click)="deleteTag(i)"></i
                ></span>
              </div>
         
              <div *ngFor="let tag of ListTags; let i = index" class="mt-3" style="display: inline-block;">
        
                <span
                  class="badge badge-pill  avis-s  pt-2 pb-2 mr-2 ml-2 mb-3"
                  [ngStyle]="{ 'background-color': tag.color }"
                  [style.color]="'white'"
                >
                  {{ tag.name }}
                  <i class="fas fa-times" (click)="deleteTag(i)"></i
                ></span>
              </div>
            </div>

            <div class="col-xl-5 col-md-6  col-xs-12">
              <div class="row  date-photos">
                <div class="col-xs-1 col-12 col-md-1 input-group text" >
                Du 
                </div>
                <div class="col-xs-5 col-12 col-md-5 input-group text" >
                  <input type="text"

                           placeholder="Sam. 3 oct 2020"
                           name="Date_debuht"
                           class="form-control datetime"
                           bsDatepicker
                           [minDate]="Min_date"
                           [maxDate]="Max_date"
                           [bsValue] ="Date_debut"
                           [(ngModel)]="Date_debut"
                         
                           (ngModelChange)="getVisibilitePhotos(Date_debut , Date_fin)"
                           [bsConfig]="{ isAnimated: true, dateInputFormat: '  DD MMM YYYY' ,   language: 'Fr'}">
                  </div>
                  <div class="col-xs-1 col-12 col-md-1 input-group text" >
                    à 
                    </div>
                   <div class="col-xs-5 col-12 col-md-5 input-group text">
                      <input type="text" name="date_fin"
                           placeholder="Sam. 24 oct 2020"
                           class="form-control datetime"
                           bsDatepicker
                           [minDate]="Min_date"
                           [maxDate]="Max_date"
                           [bsValue] ="Date_fin"
                           [(ngModel)]="Date_fin"
                           (ngModelChange)="getVisibilitePhotos(Date_debut, Date_fin)"
                           [bsConfig]="{ isAnimated: true, dateInputFormat: '  DD MMM YYYY' ,   language: 'Fr'}">

                  </div>

              </div>

              </div>
              <div class=" col-xl-4  col-md-12  col-xs-12 col-12  text mt-5">

                <div class="modal-div-canvas js-chart">
                  <div>
                  <canvas
                  id="canvas"
                  width="204 !important"
                  height="204 !important"

                ></canvas>
                  </div>
             <div id="tooltip" style="position: absolute;opacity: 0;" >
               <i class="fa fa-american-sign-language-interpreting" aria-hidden="true"></i>
               <div><i class="fa fa-square"></i></div>
             </div>

                <div class=" row">
                <div class="legends">
                  <span class="leg"><i class="fas fa-square green " ></i> <span class="legend l-1 mx-auto" >    Photos du propriétaire</span></span>  
                  <span  class="leg">  <i class="fas fa-square bleu"></i>  <span class="legend l-1  mx-auto">     Photos de clients</span> </span>
                </div> 
              </div>
           

                  <div  class="text-photos"><span class="qte-text">{{Percent_photo}}</span>
                  <span class="qte-text-1 mt-2">Photos</span>
                 </div>
            </div>
            </div>
        
    
            <div class="col-xl-8 col-md-12 col-xs-12  p-0">
              <div class=" row">
              <div class="col-xl-1 col-md-1 col-xs-1 col-12 "><!--[disabled]="(widgetsContent.scrollLeft === 0)"-->
                <button type="button"  [disabled]="(widgetsContent.scrollLeft === 0) "  role="presentation" (click)="scrollLeft()"   class="owl-next stati prev ">
                <div class="nav-btn next-slide"><i class="fas fa-angle-left"></i></div>
              </button>
              </div>
              <div class="col-xl-10 col-md-10 col-xs-10 p-0">
              <div  #widgetsContent style="overflow-x: hidden;">
                <div class="chart-container" style="position: relative;  width:1130px">
              <canvas id="myChart" width="716 !important" height="300 !important"></canvas>
              <div id="tooltopvalue" style="position: absolute;opacity: 0;" >
              </div>
              </div>
            </div>
            <div class="col-xl-12 col-md-12 col-xs-11 p-0">
              <div class="row">
              <div class=" p-0 col-xl-5  col-md-6  col-xs-12 col-12">
                <div class="legends stat ">
                  <span class="legend s-1 mx-auto"> <i class="fas fa-square"></i>Vues des photos du propriétaire</span>
                  <span class="legend s-2 "><i class="fas fa-square"></i>Vues des photos de clients </span>
                </div>
                </div>
                <div class=" col-xl-7  col-md-6  col-xs-12 col-12   ">
                  <span class="substatic">Nombre de vues des photos postées par les propriétaires des fiches et nombre de vues des photos postées par les internautes</span>
                </div>
              </div>
          </div>
          </div>
          <div class="col-xl-1 col-md-1 col-xs-11 p-0"><!-- [disabled]="(widgetsContent.scrollLeft !== 0)"-->
            <button type="button" [disabled]="(widgetsContent.scrollLeft !== 0)" role="presentation" (click)="scrollRight()"    class="owl-next stati next" >
            <div class="nav-btn next-slide"><i class="fas fa-angle-right"></i></div>
          </button>
          </div>
        
        </div>
        </div>
       
      
        </div>
       </div>
   </div>

   <div class=" ml-1 row">


        <!------------------ Debut Ajouter des photos searsh + upload  images------------------------------------->
   <div class="col-xl-4  col-md-6 mt-4 pl-4 pr-4 pt-3 pb-3 card photos">
    <div class="row">
        <div class="col-lg-9 col-md-12 col-xs-12">
       <div class="card-header bg-transparent title-Dachboard pl-3 pr-0">
        <h2 class="text-black mb-0 title-renseignement document-title">Ajouter des photos </h2>
      </div>
    </div>
    <!-- <div class="col-lg-3 col-md-12 col-xs-12">
      <div class="search-fiche">

        <div class="row">

          <div class="col-lg-12 pl-4  pr-4 ml-3">

            <div class="popover__wrapper">
            <img src="./assets/Dashboard/icon-filtre.png" class="popover__title">
              <div class="popover__content">
                <span class="filtre"> Filtrer</span>
                <div *ngIf = "LocationList!=null" class="form-check" id="phot">

                  <input type="checkbox" class="form-check-input ml-2"  name="list_name" value="m1"  id="exampleCheck1" [(ngModel)]="masterSelected"
                  (change)="checkUncheckAll()">
                  <label class="form-check-label listoption" for="exampleCheck1">Localisation</label> <br>
                  <div  class="form-check" id="photcke">
                  <ul class="localisation"  *ngFor="let item of LocationList">

                    <li   class="listoption">
                      <input type="checkbox" [(ngModel)]="item.isSelected" name="list_name" value="{{item.id}}"
                      (change)=" isAllSelecteds()" />

                      <span class="title-value">{{item.Name}} </span>

                    </li>

                  </ul>
                </div>
                </div>
                  <div  *ngIf = "SpecifiqueList!=null"  class="form-check" id="phot">
                  <input  type="checkbox" class="form-check-input ml-2"  name="list_names" value="m1"  id="exampleCheck2" [(ngModel)]="masterSelectedspe"
                  (change)="checkUncheckAllSpe()">
                  <label class="form-check-label listoption" for="exampleCheck2">Spécificités</label> <br>
                  <div  class="form-check" id="photcke">
                  <ul   *ngFor="let item of SpecifiqueList" class="localisation">

                    <li class="listoption">
                      <input type="checkbox" [(ngModel)]="item.isSelected" name="list_name" value="{{item.id}}"
                      (change)=" isAllSelectedSpe()" />

                      <span class="title-value specefiques">{{item.Name}} </span>

                    </li>

                  </ul>
       
                </div>
                </div>

              </div>
            </div>
          </div>

        </div>
      </div> 
     </div> -->

     
      <div class="col-lg-12 pl-4 pr-4 serash">
        <span  class="nom-fiche"> Recherche</span>
        <ng-select
        [multiple]="true"
        [(ngModel)]="selectedAddPhoIds"
        [addTag]="true"

        [openOnEnter]="false"
        [selectOnTab]="true"
        [clearable]="true"
        [clearOnEnter]="true"
        notFoundText ="Aucun fiche trouvée"
        (keyup)="Add_photo_autocompletes($event.target.value)"
        (change)="insertTagsPhoto_Add_photo(selectedAddPhoIds); deleteSelection_Add_photo()"
      >
      <ng-option 
      *ngFor="let add of Add_photo_autocomplete"
      [value]="add" >
      <label class="custom-control-label">{{ add.name }}  </label>
    
    </ng-option >

        <ng-option 
          *ngFor="let add of Add_photo_autocomplete"
          [value]="add" >
          <label class="custom-control-label">{{ add.name }}  </label>
        
        </ng-option >

      </ng-select>
      </div>
      <div *ngFor="let tag of ListTags_Add_Photo; let i = index"   class="badge badge-pill add avis-s  mt-3 pt-2 pb-2 mr-2 ml-4 mb-3"
      [ngStyle]="{ 'background-color': tag.color }"
      [style.color]="'white'" style="display: inline-block;">
        <span
        class="pulle-serck" >
          {{ tag.name }}
       </span>
       <i class="fas fa-times" (click)="deleteTagAdd_Photo(i)"></i>
      </div>
      <div class="col-lg-12 pl-4 pr-4">
          <div class="reviews-members pb-2 mt-4">

          <form [formGroup]="AddPhotoFormFilter" (ngSubmit)="UploadAdd_Photo()">
              <ngx-dropzone   class="custom-dropzone photos"  [multiple]="false"  (change)="onSelectFilter($event)"  accept=".webp, .gif, .png, .jpg, .jpeg">
              <ngx-dropzone-label  >
                <div class="row row pl-0 pr-0 ml-0 mr-0">
                  <div class="p-0 col-xl-9 col-md-10">
                    <img  class="icon-modal" src='./assets/photos/picto-img-blue.svg' alt="Photos wallpost" style="width: 9%;">
                    <div class="text-justifier">
                    <span class="change-picture">Importer votre photo <br>
                      <span class="change-picture-1">Photo
                        Gif, Jpeg, Png, Webp
                    </span>
                    </span>
                </div>
                  </div>
                  <div class="col-xl-3 col-md-2">
                    <i class="fas fa-upload"></i>
                  </div>
                </div>
              </ngx-dropzone-label>
              <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of files_droppedFilter"
                formControlName="File" [file]="f" [multiple]="false" [removable]="true" (removed)="onRemoveFilter(f)">

              </ngx-dropzone-image-preview>
            
            </ngx-dropzone>
            <span *ngIf="files_droppedFilter.length > 1" class="mesage"> {{message}}</span>
            <div>
              <div>
               
                <ul class="add-select">
                  <li class="list-group-item" *ngFor="let item of checklist">
                    <input type="checkbox" value="{{item.id}}" [attr.disabled]=" item.isDisabled ? true : null"
                      [checked]="item.isSelected" (change)="isAllSelected(item)" formControlName="Category"
                      name="Category" />
                    <span class="itemList">{{item.value}} </span>
                  </li>
                </ul>

              </div>
            </div>
            <span class="nom-fiche"> Type de photo</span>
            <ng-select [items]="TypePhotos" [(ngModel)]='setSelected' bindLabel="name"
              [placeholder]="placeholder"  formControlName="Type_photo">
            </ng-select>

            <div class="btncnx mt-3">

              <button type="submit" class="btn btn-pub">Publier</button>
            </div>
          </form>

        </div>
      </div>

    </div>
   </div>
     <!------------------------Fin Ajouter des photos searsh + upload  images------------------------------------>




      <div class=" col-xl-8 col-md-6 mt-4 p-0">

<div class=" col-xl-6  col-md-8 mt-5">
  <div  class="  selectes form-group mb-4 titlepost" >
    <!--<span class="nom-fiche">  </span>-->
    <ng-select   id="select-photo "
       [items]="ListPhotosselect"
       [searchable]="false"
       [multiple]="false"
       [readonly]="false"
       bindLabel="name"
       [selectOnTab]="true"

       [options]="options"
       [clearable]="false"
       [clearOnEnter]="false"


        [(ngModel)]="current_tab_photo"
        (ngModelChange)="get_tab_photo(current_tab_photo)"
         groupBy="Groupe" >
         <ng-template ng-label-tmp let-item="item">
          <div  *ngIf="item.id <= 3 && item.id !=0" class="orange-select" selected [ngStyle]="{'color': item.color}" > {{item.name}}</div>
          <div  *ngIf="item.id > 3" class="gris-select" [ngStyle]="{'color': item.color}" > {{item.name}}</div>
       </ng-template>
      <ng-template ng-option-tmp let-item="item">
          <div  *ngIf="item.id <= 3 && item.id !=0" class="orange-select" [ngStyle]="{'color': item.color}" > {{item.name}}</div>
          <div  *ngIf="item.id > 3" class="gris-select" [ngStyle]="{'color': item.color}" > {{item.name}}</div>

      </ng-template>
    </ng-select>

  </div>
</div>

<div class='container'>
<owl-carousel class="carousel-photos"  [options]="SlideOptions" [items]="current_tab_photo_list" [carouselClasses]="['owl-theme', 'sliding']" >
  <div class="item" *ngFor="let img of current_tab_photo_list let i= index">

   <div *ngIf="current_tab_photo.id <= 3"  style="align-content: center;     min-height: 249px;" >
       <!-- <div  style="align-content: center" >
  <img  src='./assets/photos/img-blanc.png'/>
  <div class="slide-text mt-0">

    <a class="show-more photos s"
    (click)="open(content , img)"
    > <img  class="icon-photos" src='./assets/photos/picto-img.svg' /><span class="sub-imf-title">Ajouter une photo</span></a >
  </div>
  <div class="media">
    <div class="media-body">
      <div id="notifs-client">
        <ng-template #content let-modal>
          <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
          </button>
          <div class="modal-body ContenuPhoto">
            <div class="reviews-members pb-2">
              <span
              class=" pb-3 title-add-photos" id="modal-basic-title" >Importer une photo
             </span >
         </div>


            <form [formGroup]="AddPhotoForm" (ngSubmit)="UploadPhoto()">
                <ngx-dropzone class="custom-dropzone"   [multiple]="false"  (change)="onSelect($event)"  accept=".webp, .gif, .png, .jpg, .jpeg">
                <ngx-dropzone-label >
                  <div class="row row pl-0 pr-0 ml-0 mr-0">
                    <div class="col-xl-7">
                      <img  class="icon-modal" src='./assets/photos/picto-img-blue.svg' alt="Photos wallpost" style="width: 11%;">
                      <div class="text-justifier">
                      <span class="change-picture">Importer votre photo <br>
                        <span class="change-picture-1">Photo
                          Gif, Jpeg, Png, Webp
                      </span>
                      </span>
                  </div>
                    </div>
                    <div class="col-xl-5">
                      <i class="fas fa-upload"></i>
                    </div>
                  </div>
                </ngx-dropzone-label>
                <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of files_dropped"
                  formControlName="File" [file]="f" [multiple]="false" [removable]="true" (removed)="onRemove(f)">
                </ngx-dropzone-image-preview>
             
              </ngx-dropzone>
            
              <span *ngIf="  files_dropped.length > 1" class="mesage"> {{message}}</span>
              <div>
                <ul>
                  <li class="list-group-item" *ngFor="let item of checklist">
                    <input type="checkbox" value="{{item.id}}" [attr.disabled]=" item.isDisabled ? true : null"
                      [checked]="item.isSelected" (change)="isAllSelected(item)" formControlName="Category"
                      name="Category" />
                    <span class="itemList">{{item.value}} </span>
                  </li>
                </ul>

              </div>



              <span class="nom-fiche"> Type de photo</span>
              <ng-select [items]="TypePhotos" [(ngModel)]='setSelected' bindLabel="name"
                [placeholder]="placeholder"  formControlName="Type_photo">
              </ng-select>

              <div class="btncnx mt-3">

                <button type="submit" class="btn btn-pub">Publier</button>
                <button type="button" class="btn btn-annulation" (click)="FermerAdd()">Annuler</button>
              </div>
            </form>

          </div>
          <div class="modal-footer">
            <div class="footer-modal-1"></div>
          </div>

        </ng-template>
      </div>
  </div>
 </div>
  <div class="slide-text mt-3">
    <span>{{img.locationName}}</span>
      <b>{{img.city}}</b>

  </div>

  </div> -->
 
  <img  src='../assets/photos/img-blanc.png' style="border: 1px solid #EBA10F;">
        <div class="icons-right">
          <a class="show-more photos black"
          (click)="open(content4 , img)"
          > <img  class="icon-photos f" src='./assets/photos/picto-img.svg' /></a >
        </div>
        <div class="slide-text  pluss zero ">
          <span  class="sub-imf-title  zero ">
            <span  class="color-number ">0</span>Photo
          </span>

          <a  (click)="Onselected_fich(img);onReturn()" class="show-more photos plus mt-1"
          > <span class="sub-imf-title voir">  <img  class="photo-galerie-pic" src='./assets/photos/picto-photo-gal.svg' />  Voir la galerie</span>
          </a >
      </div>
        <div class="sub slide-text mt-3" (click)="detailsfranchise(fichindividuel,img)">
          <span  id="{{img.id}}">{{img.locationName}}</span>
            <b>{{img.city}}</b>

        </div>


        <div class="media">
          <div class="media-body">
            <div id="notifs-client">
              <ng-template #content4 let-modal>
                <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                  <span aria-hidden="true">&times;</span>
                </button>
                <div class="modal-body ContenuPhoto">
                  <div class="reviews-members pb-2">
                    <span
                    class=" pb-3 title-add-photos" id="modal-basic-title" >Importer une photo
                   </span >
               </div>


                  <form [formGroup]="AddPhotoForm" (ngSubmit)="UploadPhoto()">
                      <ngx-dropzone class="custom-dropzone"  [multiple]="false"  (change)="onSelect($event)"  accept=".webp, .gif, .png, .jpg, .jpeg">
                      <ngx-dropzone-label  >
                        <div class="row row pl-0 pr-0 ml-0 mr-0">
                          <div class="col-xl-7">
                            <img  class="icon-modal" src='./assets/photos/picto-img-blue.svg' alt="Photos wallpost" style="width: 11%;">
                            <div class="text-justifier">
                            <span class="change-picture">Importer votre photo <br>
                              <span class="change-picture-1">Photo
                                Gif, Jpeg, Png, Webp
                            </span>
                            </span>
                        </div>
                          </div>
                          <div class="col-xl-5">
                            <i class="fas fa-upload"></i>
                          </div>
                        </div>
                      </ngx-dropzone-label>
                      <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of files_dropped"
                        formControlName="File" [file]="f" [multiple]="false" [removable]="true" (removed)="onRemove(f)">

                      </ngx-dropzone-image-preview>
                    </ngx-dropzone>

                    <span *ngIf="  files_dropped.length > 1" class="mesage"> {{message}}</span>
                    <div>
                      <ul>
                        <li class="list-group-item" *ngFor="let item of checklist">
                          <input type="checkbox" value="{{item.id}}" [attr.disabled]=" item.isDisabled ? true : null"
                            [checked]="item.isSelected" (change)="isAllSelected(item)" formControlName="Category"
                            name="Category" />
                          <span class="itemList">{{item.value}} </span>
                        </li>
                      </ul>

                    </div>



                    <span class="nom-fiche"> Type de photo</span>
                    <ng-select [items]="TypePhotos" [(ngModel)]='setSelected' bindLabel="name"
                      [placeholder]="placeholder"  formControlName="Type_photo">
                    </ng-select>

                    <div class="btncnx mt-3">

                      <button type="submit" class="btn btn-pub">Publier</button>
                      <button type="button" class="btn btn-annulation" (click)="FermerAdd()">Annuler</button>
                    </div>
                  </form>

                </div>
                <div class="modal-footer" style='margin-top: 64%;'>
                  <div class="footer-modal-1"></div>
                </div>

              </ng-template>
            </div>
        </div>
       </div>
</div>

  
   <div *ngIf="current_tab_photo.id > 3">

    <div *ngIf="img.photo_count != 0"  style="align-content: center; "  >
      <img  src='./assets/photos/picto-photo-fond-gris.svg' style="border: 0px solid #EBA10F;">
      <div class="icons-right">
        <a class="show-more photos black"
        (click)="open(content4 , img)"
        > <img  class="icon-photos f" src='./assets/photos/picto-img-blanc.svg' /></a >
      </div>
      <div class="slide-text  pluss " *ngIf="current_tab_photo.name !='Vidéo'">
        <span   *ngIf="img.photo_count <= 1" class="sub-imf-title  ">
        
          <span  class="color-number ">{{img.photo_count}}</span>Photo
        </span>
        <span   *ngIf="img.photo_count >= 2" class="sub-imf-title  ">
        
          <span  class="color-number ">{{img.photo_count}}</span>Photos
        </span>
        <a  (click)="Onselected_fich(img);onReturn()" class="show-more photos plus mt-1"
        ><span class="sub-imf-title  voir" >  <img  class="photo-galerie-pic" src='./assets/photos/picto-photo-gal.svg' />  Voir la galerie</span>
        </a >
    </div>
    <div class="slide-text  pluss " *ngIf="current_tab_photo.name =='Vidéo'">
      <span  *ngIf="img.photo_count <= 1" class="sub-imf-title  ">
        <span  class="color-number ">{{img.photo_count}}</span>Vidéo
      </span>
      <span  *ngIf="img.photo_count >= 2" class="sub-imf-title  ">
        <span  class="color-number ">{{img.photo_count}}</span>Vidéos
      </span>
      <a  (click)="Onselected_fich(img);onReturn()" class="show-more photos plus mt-1"
      ><span class="sub-imf-title voir">   <img  class="photo-galerie-pic" src='./assets/photos/picto-photo-gal.svg' /> Voir la galerie</span>
      </a >
  </div>

      <div class="sub slide-text mt-3"  (click)="detailsfranchise(fichindividuel,img)">
        <span id="{{img.id}}" >{{img.locationName}}</span>
          <b>{{img.city}}</b>

      </div>


      <div class="media">
        <div class="media-body">
          <div id="notifs-client">
            <ng-template #content4 let-modal>
              <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">&times;</span>
              </button>
              <div class="modal-body ContenuPhoto">
                <div class="reviews-members pb-2">
                  <span
                  class=" pb-3 title-add-photos" id="modal-basic-title" >Importer une photo
                 </span >
             </div>


                <form [formGroup]="AddPhotoForm" (ngSubmit)="UploadPhoto()">
                    <ngx-dropzone class="custom-dropzone"  [multiple]="false"  (change)="onSelect($event)"  accept=".webp, .gif, .png, .jpg, .jpeg">
                    <ngx-dropzone-label  >
                      <div class="row row pl-0 pr-0 ml-0 mr-0">
                        <div class="col-xl-7">
                          <img  class="icon-modal" src='./assets/photos/picto-img-blue.svg' alt="Photos wallpost" style="width: 11%;">
                          <div class="text-justifier">
                          <span class="change-picture">Importer votre photo <br>
                            <span class="change-picture-1">Photo
                              Gif, Jpeg, Png, Webp
                          </span>
                          </span>
                      </div>
                        </div>
                        <div class="col-xl-5">
                          <i class="fas fa-upload"></i>
                        </div>
                      </div>
                    </ngx-dropzone-label>
                    <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of files_dropped"
                      formControlName="File" [file]="f" [multiple]="false" [removable]="true" (removed)="onRemove(f)">

                    </ngx-dropzone-image-preview>
                  </ngx-dropzone>
                  <span *ngIf="  files_dropped.length > 1" class="mesage"> {{message}}</span>

                  <div>
                    <ul>
                      <li class="list-group-item" *ngFor="let item of checklist">
                        <input type="checkbox" value="{{item.id}}" [attr.disabled]=" item.isDisabled ? true : null"
                          [checked]="item.isSelected" (change)="isAllSelected(item)" formControlName="Category"
                          name="Category" />
                        <span class="itemList">{{item.value}} </span>
                      </li>
                    </ul>

                  </div>



                  <span class="nom-fiche"> Type de photo</span>
                  <ng-select [items]="TypePhotos" [(ngModel)]='setSelected' bindLabel="name"
                    [placeholder]="placeholder"  formControlName="Type_photo">
                  </ng-select>

                  <div class="btncnx mt-3">

                    <button type="submit" class="btn btn-pub">Publier</button>
                    <button type="button" class="btn btn-annulation" (click)="FermerAdd()">Annuler</button>
                  </div>
                </form>

              </div>
              <div class="modal-footer" style='margin-top: 53%;'>
                <div class="footer-modal-1"></div>
              </div>

            </ng-template>
          </div>
      </div>
     </div>


      </div>



      <div   *ngIf="img.photo_count == 0" style="align-content: center;     min-height: 249px;"  >
        <img  src='../assets/photos/img-blanc.png' style="border: 1px solid #EBA10F;">
        <div class="icons-right">
          <a class="show-more photos black"
          (click)="open(content4 , img)"
          > <img  class="icon-photos f" src='./assets/photos/picto-img.svg' /></a >
        </div>
        <div class="slide-text  pluss zero " *ngIf="current_tab_photo.name !='Vidéo'">
          <span  class="sub-imf-title  zero ">
            <span  class="color-number ">{{img.photo_count}}</span>Photo
          </span>

          <a  (click)="Onselected_fich(img);onReturn()" class="show-more photos plus mt-1"
          > <span class="sub-imf-title voir">  <img  class="photo-galerie-pic" src='./assets/photos/picto-photo-gal.svg' />  Voir la galerie</span>
          </a >
      </div>
      <div class="slide-text  pluss zero " *ngIf="current_tab_photo.name =='Vidéo'">
        <span  class="sub-imf-title  zero ">
          <span  class="color-number ">{{img.photo_count}}</span>Vidéo
        </span>

        <a  (click)="Onselected_fich(img);onReturn()" class="show-more photos plus mt-1"
        ><span class="sub-imf-title voir"> <img  class="photo-galerie-pic" src='./assets/photos/picto-photo-gal.svg' />   Voir la galerie</span>
        </a >
    </div>
        <div class="sub slide-text mt-3"  (click)="detailsfranchise(fichindividuel,img)">
          <span  id="{{img.id}}">{{img.locationName}}</span>
            <b>{{img.city}}</b>

        </div>


        <div class="media">
          <div class="media-body">
            <div id="notifs-client">
              <ng-template #content4 let-modal>
                <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                  <span aria-hidden="true">&times;</span>
                </button>
                <div class="modal-body ContenuPhoto">
                  <div class="reviews-members pb-2">
                    <span
                    class=" pb-3 title-add-photos" id="modal-basic-title" >Importer une photo
                   </span >
               </div>


                  <form [formGroup]="AddPhotoForm" (ngSubmit)="UploadPhoto()">
                      <ngx-dropzone class="custom-dropzone"  [multiple]="false"  (change)="onSelect($event)"  accept=".webp, .gif, .png, .jpg, .jpeg">
                      <ngx-dropzone-label  >
                        <div class="row row pl-0 pr-0 ml-0 mr-0">
                          <div class="col-xl-7">
                            <img  class="icon-modal" src='./assets/photos/picto-img-blue.svg' alt="Photos wallpost" style="width: 11%;">
                            <div class="text-justifier">
                            <span class="change-picture">Importer votre photo <br>
                              <span class="change-picture-1">Photo
                                Gif, Jpeg, Png, Webp
                            </span>
                            </span>
                        </div>
                          </div>
                          <div class="col-xl-5">
                            <i class="fas fa-upload"></i>
                          </div>
                        </div>
                      </ngx-dropzone-label>
                      <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of files_dropped"
                        formControlName="File" [file]="f" [multiple]="false" [removable]="true" (removed)="onRemove(f)">

                      </ngx-dropzone-image-preview>
                    </ngx-dropzone>

                    <span *ngIf="  files_dropped.length > 1" class="mesage"> {{message}}</span>
                    <div>
                      <ul>
                        <li class="list-group-item" *ngFor="let item of checklist">
                          <input type="checkbox" value="{{item.id}}" [attr.disabled]=" item.isDisabled ? true : null"
                            [checked]="item.isSelected" (change)="isAllSelected(item)" formControlName="Category"
                            name="Category" />
                          <span class="itemList">{{item.value}} </span>
                        </li>
                      </ul>

                    </div>



                    <span class="nom-fiche"> Type de photo</span>
                    <ng-select [items]="TypePhotos" [(ngModel)]='setSelected' bindLabel="name"
                      [placeholder]="placeholder"  formControlName="Type_photo">
                    </ng-select>

                    <div class="btncnx mt-3">

                      <button type="submit" class="btn btn-pub">Publier</button>
                      <button type="button" class="btn btn-annulation" (click)="FermerAdd()">Annuler</button>
                    </div>
                  </form>

                </div>
                <div class="modal-footer" style='margin-top: 64%;'>
                  <div class="footer-modal-1"></div>
                </div>

              </ng-template>
            </div>
        </div>
       </div>


        </div>



  </div>




  </div>
  </owl-carousel>
</div>



     </div>

     <!-- Debut  Dernières photos Filter -->
     <div class="col-xl-12 col-md-12 mb-5 mb-xl-0 chart mt-4 p-0">
      <div class="card  shadow doc">
        <div class="card-header bg-transparent title-Dachboard" >
          <div class="col-lg-12">
            <h2 class="text-black mb-0 title-renseignement document-title">Dernières photos </h2>
       <div class="row">
        <div class="col-lg-12 col-md-12 col-xs-12 pb-0 pr-4 mr-3 serash de">
          <span  class="nom-fiche"> Recherche</span>
          <ng-select
            [multiple]="true"
            [(ngModel)]="selectedPhoIds"
            [addTag]="true"

            [openOnEnter]="false"
            [selectOnTab]="true"
            [clearable]="true"
            [clearOnEnter]="true"
            notFoundText ="Aucun photo trouvée"
            (keyup)="autocomplete_photo($event.target.value)"
            (change)="insertTagsPhoto(selectedPhoIds); deleteSelectionp()">

            <ng-option
              *ngFor="let der of Dernier"
              [value]="der" >
              <label class="custom-control-label">{{ der.name }}  </label>

            </ng-option>

          </ng-select>
       
         
        </div>
        <!-- <div class="col-lg-3  col-md-3  col-xs-12 pb-0 ml-0 serash de">
        <div class="btncnx  der mt-3">
          <button class="btn btn-pub " type="submit"
         (click)="insertTagsPhoto(selectedPhoIds); deleteSelectionp()">Valider </button>
        </div>
      </div> -->
      <div class="col-lg-12 col-md-12  col-xs-12 pb-0 ml-0 ">
      <div *ngFor="let tag of ListTagsPhoto; let i = index" class="mt-2" style="display: inline-block;">
        <span
          class="badge badge-pill  avis-s pt-2 pb-2 mr-2 ml-2 "
          [ngStyle]="{ 'background-color': tag.color }"
          [style.color]="'white'"
        >
          {{ tag.name }}
          <i class="fas fa-times" (click)="deleteTagPhoto(i)"></i
        ></span>
      </div>
    </div>
       </div>
       <div class="row mt-4">
        <div class="col-xl-6 col-md-12 col-xs-12">
          <span class="dernier ml-2 mb-2">Dernières photos client</span>
          <div class="pl-2 row"   >
          <div *ngFor="let item of DernierClient; let i = index" >
            <div class="form-img" *ngIf="i<=5"  >
              <div  class="element-galerie reds">
                <div *ngIf="item.format =='PHOTO'"  style=" width: 100% ;display: block ;    min-height: 100%;   border-radius: 10px;"
                 [ngStyle]="{'background': 'url(' + item.file + ') no-repeat 0 0 / cover'}"></div>
                 <div *ngIf="item.format !='PHOTO'"  style=" width: 100% ;display: block ;    min-height: 100%;   border-radius: 10px;"
                                                [ngStyle]="{'background': 'url(' + video + ') no-repeat 0 0 / cover'}"></div>
            <div  class="element-galerie-1">
              <a class="mr-2 mt-0 setup">
                <!-- <img   src="./assets/photos/clock.svg" class="img-post"> -->
                <i  class="fa fa-exclamation-circle" aria-hidden="true"></i>
                  <div class="tooltiptext shadow ">
                    <div class="text-left Signaler plus">
                      <ul>

                        <li> <span (click)="openInformation(content20,item)" class="actionpost" style="color: #707070;"
                           >Information </span>
                        </li>

                      </ul>
                    </div>
                  </div>
              </a>
              <a  *ngIf="item.signials > 0" class="mr-2 mt-1 setup drap">
                <span  class="drapeux"><i class="fas fa-flag"></i></span>
                <div class="tooltiptext shadow ">
                  <div class="text-left Averti">
                    <ul >

                      <li > <i class="fas fa-flag"></i>  <span   class="actionpost" style="color:#C94040">Signaler le 
                        <b style="color:#C94040" class="date-avertir">{{item.signial_date}}</b>
                        </span>
                      </li>

                    </ul>
                  </div>
                </div>
              </a>
              <div (click)="openInformation(content20,item)" class="ancre-image"> </div>
                <div class="setup-bottom pl-2">
                <span  class="text-black ml-1 mb-0">
                    <img src="./assets/photos/post-picto-vue-blanc.svg" class="img-post">
                 
                    <span  class="value-post"> {{item.views}} </span>
                </span>
                 <span  class="text-black left mr-2">
                    <span  class="value-post">{{item.date}}</span>
                </span>
            </div>
            </div>
        <!----------------------------------------popup Information------------------------------------------------------------------>
                  <div  class="media">
                    <div class="media-body">
                      <div id="notifs-client">
                        <ng-template #content20 let-modal cato>
                          <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                            <span aria-hidden="true">&times;</span>
                          </button>

                          <div class="modal-body Categoriser derrr">
                            <div class="row">
                              <div class="col-xl-8 col-md-8 col-sm-12" style="
                              border-radius: 20px 0 0 20px;
                          ">
                                <!-- <img class src='{{tab_photoss}}'  class="img-font-cato" alt='{{tab_locationName}}' /> -->
                                <img   *ngIf="tab_format!='VIDEO'" class="img-font-cato" src="{{tab_photoss}}" alt="{{tab_locationName}}"/>
                                <video     *ngIf="tab_format=='VIDEO'"   width="400" controls autoplay class="img-font-cato"  src="{{tab_photoss}}"></video>
                                <div class="city-img"><span>{{tab_locationName}}</span></div>
                              </div>
                              <div class="col-xl-4  col-md-12 col-sm-12    Categoriser-left">
                            <div class="reviews-members pb-2 Categoriser">
                              <span
                              class=" pb-3 title-add-photos" id="modal-basic-title" >Informations
                            </span >
                            <span class="text-black mb-0">
                              <img  src="./assets/Dashboard/post-picto-vue.svg" class="img-post">
                              <span class="value-post"> {{tab_views}} consultations </span>
                            </span>
                            <span class="text-black mb-0">

                              <img  src="./assets/photos/icon_calandar-grise.svg" class="img-post">
                              <span class="value-post"> Il y a {{tab_date}}</span>
                            </span>

                            <span class="text-black ml-1 mb-0">
                              <img  src="./assets/photos/insert-picture-icon-grise.png" class="img-post s">

                              <span class="value-post"> {{tab_width}} x {{tab_height}} pixels</span>
                            </span>

                            <div class="text-black mb-0 mt-4">
                              <!-- <img *ngIf="tab_lastName == null &&  tab_firstName == null && informationItem.category != 'CUSTOMER'" src="./assets/photos/insert-picture-icon.png" class=" prop"> -->
                              <img *ngIf="tab_lastName != null &&  tab_firstName != null && informationItem.category != 'CUSTOMER' && informationItem.photo == null" src="./assets/photos/insert-picture-icon.png" class=" prop">
                              <img *ngIf="tab_lastName != null &&   tab_firstName != null && informationItem.category != 'CUSTOMER'" src="{{informationItem.photo}}" class=" prop">
                              <img  *ngIf="informationItem.category == 'CUSTOMER' "src="{{informationItem.profilePhotoUrl}}" class=" prop">
                              <span  class="value-post">
                                {{informationItem.profileName}}
                                <!-- <span  *ngIf="tab_lastName == null &&   tab_firstName == null && informationItem.category != 'CUSTOMER'" class="light">propriétaire</span> -->
                                <span  *ngIf="tab_lastName != null &&   tab_firstName != null && informationItem.category != 'CUSTOMER' && informationItem.photo == null" class="light">propriétaire</span>
                                <span  *ngIf="tab_lastName!= null &&   tab_firstName != null && informationItem.category != 'CUSTOMER' " class="light">{{informationItem.lastname}} {{informationItem.firstname}}</span>
                                <span  *ngIf=" informationItem.category == 'CUSTOMER' " class="light">{{informationItem.profileName}}</span>
                              </span>
                          </div>
                        </div>
                        <div class="reviews-members pb-2 pt-5   ">
                       <div class="modal-footer cat pl-1 pr-1">
                        <div class="text-center buttons-catorisez signaler der">
                         <a  type="button" href="{{informationItem.takedownUrl}}" (click)="SignalierGategorieC(informationItem.id)"  target="_blank"  class="btn btn-supprimer signaler "> Signaler la photo </a>
                        </div>

                      </div>
                    </div>
                      </div>
                      </div>
                    </div>
                        </ng-template>
                        <ng-template #content45 let-modal>
                          <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                            <span aria-hidden="true">&times;</span>
                          </button>
                          <!-- <div class="iframe_form" [innerHTML]="takedownUrl"></div> -->
                          <iframe   class="e2e-iframe-trusted-src  w-100"  width="100%" height="100%" [src]="takedownUrl" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                        </ng-template>
                        </div>
                        </div>
                  </div>

 <!---------------------------------------- Fin popup Information---------------------------------------------->
          </div></div>
        </div>
        </div>
        </div>
         <div class="col-xl-6 col-md-12 col-xs-12">
          <span class="dernier ml-2 mb-2">Dernières photos propriétaire</span>
          <div *ngFor="let item of DernierProb; let i = index"  class="element-galerie">
            <div *ngIf="i<=5" >
              <div *ngIf="item.format =='PHOTO'"  style=" width: 100% ;display: block ;    min-height: 100%;   border-radius: 10px;"
              [ngStyle]="{'background': 'url(' + item.file + ') no-repeat 0 0 / cover'}"></div>
              <video *ngIf="item.format !='PHOTO'"   width="165" height="165" controls autoplay class ="img-fonst "  src="{{item.file}}"></video>
            <!-- <img *ngIf="item.format =='PHOTO'" class ="img-fonst " src="{{item.file}}" alt=""/>
            <video *ngIf="item.format !='PHOTO'"   width="165" height="165" controls autoplay class ="img-fonst "  src="{{item.file}}"></video> -->
            <div  class="element-galerie-1" >
              <a class="mr-2 mt-1 setup">
                  <i class="fas fa-cog"></i>
                  <div class="tooltiptext shadow ">
                    <div class="text-left">
                      <ul>

                        <li> <span (click)="openCatoDer(content30,item)"  class="actionpost">Catégoriser 
                          </span>
                        </li>
                        <li> <span (click)="openAvertirDer(content31,item)" class="actionpost">Avertir
                          </span>
                        </li>

                        <li> <span (click)="openSuppDer(content32,item);" class="actionpost" style="color: #C94040;"
                           >Supprimer </span>
                        </li>

                      </ul>
                    </div>
                  </div>
                </a>
                <a  *ngIf="item.dateAvertir!=null" class="mr-2 mt-1 setup drap">
                  <span  class="drapeux"><i class="fas fa-flag"></i></span>
                  <div class="tooltiptext shadow ">
                    <div class="text-left Averti">
                      <ul>

                        <li > <i class="fas fa-flag"></i>  <span   class="actionpost">Averti le <b class="date-avertir">{{item.dateAvertir |date:'mm/dd/y'}}</b>
                          </span>
                        </li>

                      </ul>
                    </div>
                  </div>
                </a>
              
                <div class="setup-bottom pl-2">
                <span   *ngIf="item.views==null" class="text-black mb-0">
                    <img  src="./assets/photos/post-picto-vue-blanc.svg" class="img-post">
                    <span  class="value-post"> 0 </span>
                </span>
                <span   *ngIf="item.views!=null"  class="text-black mb-0">
                  <img  src="./assets/photos/post-picto-vue-blanc.svg" class="img-post">
                  <span  class="value-post"> {{item.views}}  </span>
              </span>
              <span  class="text-black left mr-2">
                    <span  class="value-post">{{item.date}}</span>
                </span>
            </div>
            <div (click)="openCatoDer(content30,item)" class="ancre-image"> </div>
            </div>

          </div>
        </div>


        <!----------------------------------------popup Avertir  photos propriétaire------------------------------------------------------------------>
        <div class="media hidesssss" id="Avertir" >
          <div class="media-body">
            <div id="notifs-client">
              <ng-template #content31 let-modal>
                <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                  <span aria-hidden="true">&times;</span>
                </button>
                <div class="modal-body ContenuPhoto galerie" >
                  <div class="reviews-members pb-5">
                    <span
                    class=" pb-3 title-add-photos Avertir" id="modal-basic-title " >Avertir le propriétaire de l'image
                  </span >
              </div>
              <div class="row">
                <div class="col-xl-4  col-md-4">
                  <img class src='{{tab_photoss}}' alt='{{tab_locationName}}' style="
                  width: 151px;
                  height: 151px;
                  border-radius: 20px;
              "/>
                  </div>
              <div class="col-xl-8 col-md-8 ">
               <div class="reponse-body">
                <div class="reponse-fiche">
                  <div class="form-group  was-validated">
                    <span class="nom-fiche">
                      Contacter le propriétaitre</span
                    ><span class="symbol required"></span>
                    <textarea
                      placeholder=" Envoyer votre message"
                      class="form-control reponse_avis"
                      rows="5"
                      id="comment" required
                      [(ngModel)]="AvertirMessage"
                    ></textarea>
                    <div class="valid-feedback"></div>
                    <div class="invalid-feedback"></div>
                  </div>
                </div>
                <div class="text-center buttons">
                  <button   class="btn btn-reponse" type="button" (click)="AviertirDernierPhoto(avertirItem.id, avertirItem.fiche_id) ">
                    Envoyer
                 </button>
                   <button
                     type="button"
                     class="btn btn-annulations"
                     (click)="modal.close('Save click')"
                   >
                     Annuler
                   </button>
                 </div>
              </div>
            </div>

           </div>
              </div>


              <div class="modal-footer s" >

                <div class="footer-modal-1"></div>
              </div>
              </ng-template>
              </div>
              </div>
        </div>
<!---------------------------------------- Fin popup Avertir  photos propriétaire------------------------------------------------------------------>
<!----------------------------------------popup Catégoriser  photos propriétaire------------------------------------------------------------------>
<div  class="media">
  <div class="media-body">
    <div id="notifs-client">
      <ng-template #content30 let-modal cato>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>

        <div class="modal-body Categoriser">
          <div class="row">
            <div class="col-xl-8 col-md-12  col-sm-12 font-images pr-0  "  >
              <!-- <img class src='{{tab_photoss}}'  class="img-font-cato" alt='{{tab_locationName}}' /> -->
              <img   *ngIf="tab_format !='VIDEO'" class="img-font-cato dert" src="{{tab_photoss}}" alt="{{tab_locationName}}"/>
              <video     *ngIf="tab_format=='VIDEO'"   width="400" controls autoplay class="img-font-cato"  src="{{tab_photoss}}"></video>
              <div class="city-img der"><span>{{tab_locationName}}</span></div>
            </div>
            <div class="col-xl-4  col-md-12 col-sm-12  Categoriser-left">
          <div class="reviews-members pb-2 Categoriser">
            <span
            class=" pb-3 title-add-photos" id="modal-basic-title" >Informations
          </span >
          <span *ngIf="tab_views==null" class="text-black mb-0">
            <img  src="./assets/Dashboard/post-picto-vue.svg" class="img-post">
            <span class="value-post"> 0 consultations </span>
          </span>
           <span *ngIf="tab_views!=null" class="text-black mb-0">
            <img  src="./assets/Dashboard/post-picto-vue.svg" class="img-post">
            <span class="value-post"> {{tab_views}} consultations </span>
          </span>
          <span class="text-black mb-0">

            <img  src="./assets/photos/icon_calandar-grise.svg" class="img-post">
            <span class="value-post"> Il y a {{tab_date}}</span>
          </span>

          <span class="text-black ml-1  mb-0">
            <img  src="./assets/photos/insert-picture-icon-grise.png" class="img-post s">

            <span class="value-post"> {{tab_width}} x {{tab_height}} pixels</span>
          </span>
        
          <div class="text-black mb-0 mt-4">
            <!-- <img *ngIf="tab_lastName == null &&  tab_firstName == null && avertirItem.category != 'CUSTOMER'" src="./assets/photos/insert-picture-icon.png" class=" prop"> -->
            <img *ngIf="tab_lastName != null &&  tab_firstName != null && avertirItem.category != 'CUSTOMER' && avertirItem.photo == null" src="./assets/photos/insert-picture-icon.png" class=" prop">
            <img *ngIf="tab_lastName != null &&   tab_firstName != null && avertirItem.category != 'CUSTOMER'" src="{{avertirItem.photo}}" class=" prop">
            <img  *ngIf="avertirItem.category == 'CUSTOMER' "src="{{avertirItem.profilePhotoUrl}}" class=" prop">
            <span  class="value-post">
              {{avertirItem.profileName}}
              <!-- <span  *ngIf="tab_lastName == null &&   tab_firstName == null && avertirItem.category != 'CUSTOMER'" class="light">propriétaire</span> -->
              <span  *ngIf="tab_lastName != null &&   tab_firstName != null && avertirItem.category != 'CUSTOMER' && avertirItem.photo == null" class="light">propriétaire</span>
              <span  *ngIf="tab_lastName!= null &&   tab_firstName != null && avertirItem.category != 'CUSTOMER' " class="light">{{avertirItem.lastname}} {{avertirItem.firstname}}</span>
              <span  *ngIf=" avertirItem.category == 'CUSTOMER' " class="light">{{avertirItem.profileName}}</span>
            </span>
        </div>

      </div>
      <div class="reviews-members   Categoriser ">
        <span
        class=" pb-3 title-add-photos" id="modal-basic-title" >Catégories
      </span >
      <div class="categor-galerie selected">
        <span class="categor-galerie-1" > <i class="fa fa-plus" aria-hidden="true"></i> {{avertirItem.categorie_fr }}</span>
        </div>
     <div class="categor-galerie"  *ngFor="let cat of ListCategorieGal">
   
     <span class="categor-galerie-1" (click)=AddCategory(tab_fiche_id,tab_photoss,cat)>  <i class="fa fa-plus" aria-hidden="true"></i> {{cat.label}}</span>
     </div>
    
     <div class="modal-footer cat pl-1 pr-1">
      <div class="text-center buttons-catorisez der">
        <button  type="button" (click)="DeleteGategorieC(tab_photo_id)" class="btn btn-supprimer"> Supprimer la photo </button>
        <button  (click)="openAvertir(content7,avertirItem)" type="button" class="btn btn-avertir"> Avertir le propriétaire </button>
      </div>

    </div>
  </div>
    </div>
    </div>
  </div>
      </ng-template>
      </div>
      </div>
</div>

<!---------------------------------------- Fin popup Catégoriser  photos propriétaire---------------------------------------------->
 <!----------------------------------------popup Supprimer  photos propriétaire------------------------------------------------------------------>
 <div class="media" id="Avertir">
  <div class="media-body">
    <div id="notifs-client">
      <ng-template #content32 let-modal>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="modal-body ContenuPhoto galerie" style="margin-top: 52%;">
          <div class="reviews-members pb-5">
            <span
            class=" pb-3 title-add-photos Avertir" id="modal-basic-title " >Suppression d'image
          </span >
      </div>
      <div class="row">
        <div class="col-xl-5 col-md-5">
          <img class="supp-img" src='{{tab_photoss}}' alt='{{tab_locationName}}' />
          </div>
      <div class="col-xl-7 col-md-7 p-0">
       <div class="reponse-body">
        <span class="supprission-text">Vous êtes sur le point de supprimer l'image ci-dessous, êtes-vous sûr ?</span>
        <div class="text-center buttons">
          <button   class="btn btn-reponse" type="button" (click)="DeleteGategorieC(delete_photo_id)">
            Supprimer
         </button>
           <button
             type="button"
             class="btn btn-annulations"
             (click)="modal.close('Save click')"
           >
             Annuler
           </button>
         </div>
      </div>
    </div>

   </div>
      </div>


      <div class="modal-footer s" >

        <div class="footer-modal-1"></div>
      </div>
      </ng-template>
      </div>
      </div>
</div>
<!---------------------------------------- Fin popup Supprimer  photos propriétaire---------------------------------------------->
        </div>
       </div>
      </div>
      </div>
      </div>
      </div>
 </div>
</div>
</div>
<div class="" [ngClass]="{'col-xl-1  col-md-1 ':    isMobile === true , 'col-xl-3  col-md-3': isMobile === false}">
  <div *ngIf="!isMobile">
    <app-sidbar-photos></app-sidbar-photos>
    <app-sidebar-general></app-sidebar-general>
  </div>
  <div *ngIf="isMobile" class="medium_screen text-center">
    <span class="avatar avatar-md rounded-circle"  
    (click)="openblock(contentblock)">
      <img  src="../assets/Dashboard/icon-franchises1.png"><sup class="sup-b"><i  class="fa fa-circle mod"></i></sup>
  </span>
  
  </div>
  <div id="contentblock">
    <ng-template #contentblock let-modal>

      <button type="button" class="close avatar" aria-label="Close" 
      (click)="fermerpro()">
     <i class="fa fa-times-thin fa-2x cross" aria-hidden="true"></i>
      </button>
      
      <div class="modal-body listprofil pb-0 mb-0">
        <app-sidbar-photos></app-sidbar-photos>
        <app-sidebar-general></app-sidebar-general>
      </div>
    </ng-template>
  </div>

  </div>

  </div>

</div>


