<h1> Modifier heure de chaque employé</h1>
<div id="update">
    <div id="allusers">
        <div class="classright" *ngFor="let item of allUsers">
            <div class="status">
                <!-- Affichage de l'image de profil -->
                <ng-container *ngIf="item.profile_image_url; else defaultImage">
                    <img [src]="item.profile_image_url" alt="Image de profil" class="enteimg" />
                </ng-container>
                <ng-template #defaultImage>
                    <i class="bi bi-person-circle"></i>
                </ng-template>
                <sup [class]="item.status === 'au bureau' ? 'text-success' : 'text-danger'">
                    <i class="bi bi-circle-fill"></i>
                </sup>
            </div>

            <div class="content">
                <div class="headertab">
                <span>Nom :<b> {{ item.name }}</b></span>
                <span>Poste :<b> {{ item.role }}</b></span>
            </div>
              
                <ng-container *ngIf="getHistoryKeys(item.history) ; else upddatedate">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Jour</th>
                                <th>Heures</th>
                                <th>Localisation</th>
                                <th>Modifier</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let key of getHistoryKeys(item.history)">
                                <td>{{ item.history[key].day }}</td>
                                <td>{{ item.history[key].daily_hours || '00:00:00' }}</td>
                                <td>{{ item.location}}</td>
                                <td class="text-center"><i class="bi bi-pen"></i></td>
                            </tr>
                        </tbody>
                    </table>
                </ng-container>

                <ng-template #upddatedate>
                    <span class="d-block text-center">Pas de pointages</span>
                </ng-template>
            </div>
        </div>

        <div class="classright add">
            <span>Créer un compte !</span>
            <button type="button" class="dropdown-item" (click)="openPopup()">
                <i class="bi bi-plus-circle"></i>
            </button>
            <app-add-employes [displayStyleChild]="displayStyle" (closeEvent)="closePopup()"></app-add-employes>
        </div>
    </div>
</div>
